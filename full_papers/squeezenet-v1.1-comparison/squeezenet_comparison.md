# مقارنة تقنية شاملة بين معماريتي SqueezeNet v1.0 و v1.1

## المقدمة

تُعد شبكة SqueezeNet إحدى الشبكات العصبية الالتفافية العميقة الرائدة في مجال تقليل حجم النماذج مع الحفاظ على دقة التصنيف العالية. قدم Iandola وزملاؤه في عام 2016 هذه المعمارية المبتكرة تحت عنوان "SqueezeNet: AlexNet-level accuracy with 50x fewer parameters and <1MB model size"، حيث حققت دقة مماثلة لشبكة AlexNet مع استخدام عدد أقل من المعاملات بمقدار 50 مرة وحجم نموذج أقل من 1 ميجابايت.

تطورت معمارية SqueezeNet إلى نسختين رئيسيتين: الإصدار الأول v1.0 الموصوف في البحث الأصلي، والإصدار المحسّن v1.1 الذي يتطلب عمليات حسابية أقل بمقدار 2.4 مرة دون التضحية بالدقة. تهدف هذه الوثيقة إلى تقديم مقارنة تقنية شاملة بين الإصدارين، مع التركيز على الاختلافات المعمارية وتحليل التحسينات الحسابية.

## 1. معمارية SqueezeNet v1.0

### 1.1 البنية العامة

تتكون معمارية SqueezeNet v1.0 من طبقات متسلسلة تبدأ بطبقة التفاف أولية، تليها سلسلة من وحدات Fire المميزة، وتنتهي بطبقة تصنيف.

### 1.2 طبقة الإدخال والطبقة الالتفافية الأولى

**مواصفات طبقة الإدخال:**
- أبعاد الإدخال: 227 × 227 × 3 (الارتفاع × العرض × القنوات)
- حجم الدفعة: 10 صور

**مواصفات طبقة Conv1:**
- عدد المرشحات: 96
- حجم النواة: 7 × 7
- الخطوة (Stride): 2
- دالة التفعيل: ReLU
- طبقة التجميع: Max Pooling بحجم 3 × 3 وخطوة 2

### 1.3 وحدات Fire

تُعد وحدة Fire هي العنصر الأساسي في معمارية SqueezeNet. تتكون كل وحدة من مرحلتين:

**أ) مرحلة الضغط (Squeeze):**
- طبقة التفاف 1 × 1 لتقليل عدد القنوات

**ب) مرحلة التوسيع (Expand):**
- طبقة التفاف 1 × 1 بالتوازي مع طبقة التفاف 3 × 3
- دمج الخرج من كلا المسارين عبر عملية الدمج (Concatenation)

**توزيع وحدات Fire في v1.0:**

| الوحدة | عدد قنوات Squeeze | عدد قنوات Expand 1×1 | عدد قنوات Expand 3×3 | إجمالي الخرج |
|--------|------------------|---------------------|---------------------|--------------|
| Fire 2 | 16 | 64 | 64 | 128 |
| Fire 3 | 16 | 64 | 64 | 128 |
| Fire 4 | 32 | 128 | 128 | 256 |
| Fire 5 | 32 | 128 | 128 | 256 |
| Fire 6 | 48 | 192 | 192 | 384 |
| Fire 7 | 48 | 192 | 192 | 384 |
| Fire 8 | 64 | 256 | 256 | 512 |
| Fire 9 | 64 | 256 | 256 | 512 |

### 1.4 طبقات التجميع (Pooling)

في SqueezeNet v1.0، تُوضع طبقات Max Pooling في المواقع التالية:
- **pool_1:** بعد طبقة conv1
- **pool_4:** بعد وحدة fire4
- **pool_8:** بعد وحدة fire8

جميع طبقات التجميع تستخدم نواة 3 × 3 بخطوة 2.

### 1.5 رأس التصنيف

**المكونات:**
1. طبقة Dropout بنسبة 50% لمنع الإفراط في التخصيص
2. طبقة التفاف نهائية 1 × 1 بـ 1000 مرشح (لتصنيف ImageNet)
3. دالة تفعيل ReLU
4. طبقة Global Average Pooling
5. دالة Softmax للحصول على توزيع الاحتمالات

### 1.6 المتطلبات الحسابية

**العمليات الحسابية:** 1.72 جيجا عملية نقطة عائمة لكل صورة (GFLOPS/image)

**حجم النموذج:** 4.8 ميجابايت (غير مضغوط)

**الدقة:** ≥ 80.3% دقة top-5 على مجموعة بيانات ImageNet

## 2. معمارية SqueezeNet v1.1

### 2.1 نظرة عامة على التحسينات

صُممت SqueezeNet v1.1 لتحسين الكفاءة الحسابية مع الحفاظ على مستوى الدقة نفسه. تحقق هذا من خلال تعديلين رئيسيين في المعمارية:
1. تقليل حجم ومرشحات طبقة Conv1
2. إعادة توزيع طبقات التجميع لتقليل الأبعاد المكانية في مراحل أبكر

### 2.2 طبقة الإدخال والطبقة الالتفافية الأولى

**مواصفات طبقة الإدخال:**
- أبعاد الإدخال: 227 × 227 × 3 (بدون تغيير)
- حجم الدفعة: 10 صور

**مواصفات طبقة Conv1 المحسّنة:**
- عدد المرشحات: 64 (انخفاض من 96)
- حجم النواة: 3 × 3 (انخفاض من 7 × 7)
- الخطوة (Stride): 2
- دالة التفعيل: ReLU
- طبقة التجميع: Max Pooling بحجم 3 × 3 وخطوة 2

### 2.3 وحدات Fire

تحتفظ SqueezeNet v1.1 بنفس تكوين وحدات Fire الموجود في v1.0:

**توزيع وحدات Fire في v1.1:**

| الوحدة | عدد قنوات Squeeze | عدد قنوات Expand 1×1 | عدد قنوات Expand 3×3 | إجمالي الخرج |
|--------|------------------|---------------------|---------------------|--------------|
| Fire 2 | 16 | 64 | 64 | 128 |
| Fire 3 | 16 | 64 | 64 | 128 |
| Fire 4 | 32 | 128 | 128 | 256 |
| Fire 5 | 32 | 128 | 128 | 256 |
| Fire 6 | 48 | 192 | 192 | 384 |
| Fire 7 | 48 | 192 | 192 | 384 |
| Fire 8 | 64 | 256 | 256 | 512 |
| Fire 9 | 64 | 256 | 256 | 512 |

### 2.4 طبقات التجميع المُعاد توزيعها

التعديل الرئيسي الثاني في v1.1 هو إعادة توزيع طبقات Max Pooling:
- **pool_1:** بعد طبقة conv1 (بدون تغيير)
- **pool_3:** بعد وحدة fire3 (تم التقديم من fire4)
- **pool_5:** بعد وحدة fire5 (تم التقديم من fire8)

جميع طبقات التجميع تستخدم نواة 3 × 3 بخطوة 2.

### 2.5 رأس التصنيف

رأس التصنيف في v1.1 مطابق تماماً لما في v1.0:
1. طبقة Dropout بنسبة 50%
2. طبقة التفاف نهائية 1 × 1 بـ 1000 مرشح
3. دالة تفعيل ReLU
4. طبقة Global Average Pooling
5. دالة Softmax

### 2.6 المتطلبات الحسابية

**العمليات الحسابية:** 0.72 جيجا عملية نقطة عائمة لكل صورة (GFLOPS/image)

**نسبة التحسين:** انخفاض بمقدار 2.4 مرة في العمليات الحسابية

**الدقة:** ≥ 80.3% دقة top-5 على مجموعة بيانات ImageNet (نفس دقة v1.0)

## 3. المقارنة التفصيلية بين الإصدارين

### 3.1 مقارنة تكوين الطبقات

**جدول المقارنة الشامل:**

| المكون | SqueezeNet v1.0 | SqueezeNet v1.1 | التغيير |
|---------|-----------------|-----------------|---------|
| **Conv1 - عدد المرشحات** | 96 | 64 | ↓ 33.3% |
| **Conv1 - حجم النواة** | 7 × 7 | 3 × 3 | ↓ 79.6% في المعاملات |
| **Conv1 - المعاملات** | 96 × 7 × 7 × 3 = 14,112 | 64 × 3 × 3 × 3 = 1,728 | ↓ 87.8% |
| **Pool_1** | بعد conv1 | بعد conv1 | بدون تغيير |
| **Pool_4** | بعد fire4 | - | مُلغاة |
| **Pool_3** | - | بعد fire3 | جديدة |
| **Pool_5** | - | بعد fire5 | جديدة |
| **Pool_8** | بعد fire8 | - | مُلغاة |
| **عدد وحدات Fire** | 8 | 8 | بدون تغيير |
| **تكوين Fire** | متطابق | متطابق | بدون تغيير |
| **رأس التصنيف** | متطابق | متطابق | بدون تغيير |

### 3.2 مقارنة الأداء الحسابي

**تحليل العمليات الحسابية:**

```
SqueezeNet v1.0:  1.72 GFLOPS/image
SqueezeNet v1.1:  0.72 GFLOPS/image
─────────────────────────────────────
نسبة التحسين:    1.72 / 0.72 = 2.39 ≈ 2.4×
التوفير:         1.72 - 0.72 = 1.00 GFLOPS/image
نسبة التوفير:    (1.00 / 1.72) × 100% = 58.1%
```

**مصادر التحسين الحسابي:**

1. **تقليل معاملات Conv1:**
   - v1.0: 14,112 معامل
   - v1.1: 1,728 معامل
   - التوفير: 87.8%

2. **تقليل مرشحات Conv1:**
   - v1.0: 96 مرشح × الأبعاد المكانية
   - v1.1: 64 مرشح × الأبعاد المكانية
   - التوفير: 33.3% في عدد خرائط الميزات

3. **التجميع المبكر:**
   - نقل التجميع من fire4 إلى fire3 يقلل الأبعاد المكانية للطبقات اللاحقة
   - نقل التجميع من fire8 إلى fire5 يقلل العمليات في fire6، fire7، fire8

### 3.3 مقارنة تدفق البيانات

**SqueezeNet v1.0 - تدفق الأبعاد المكانية:**

```
الإدخال: 227 × 227
    ↓
Conv1 (stride 2): 111 × 111
    ↓
Pool_1 (stride 2): 55 × 55
    ↓
Fire2, Fire3: 55 × 55
    ↓
Pool_4 (stride 2): 27 × 27
    ↓
Fire5, Fire6, Fire7: 27 × 27
    ↓
Pool_8 (stride 2): 13 × 13
    ↓
Fire9: 13 × 13
    ↓
Conv10 + GAP: 1 × 1
```

**SqueezeNet v1.1 - تدفق الأبعاد المكانية:**

```
الإدخال: 227 × 227
    ↓
Conv1 (stride 2): 111 × 111
    ↓
Pool_1 (stride 2): 55 × 55
    ↓
Fire2: 55 × 55
    ↓
Pool_3 (stride 2): 27 × 27
    ↓
Fire4: 27 × 27
    ↓
Pool_5 (stride 2): 13 × 13
    ↓
Fire6, Fire7, Fire8, Fire9: 13 × 13
    ↓
Conv10 + GAP: 1 × 1
```

### 3.4 تحليل التأثير الحسابي للتجميع المبكر

**المقارنة الكمية:**

في v1.0:
- Fire3 تعمل على أبعاد 55 × 55
- Fire4 تعمل على أبعاد 55 × 55 (ثم يتم التجميع)
- Fire5-7 تعمل على أبعاد 27 × 27
- Fire8 تعمل على أبعاد 27 × 27 (ثم يتم التجميع)
- Fire9 تعمل على أبعاد 13 × 13

في v1.1:
- Fire2 تعمل على أبعاد 55 × 55
- Fire3 تعمل على أبعاد 55 × 55 (ثم يتم التجميع)
- Fire4 تعمل على أبعاد 27 × 27
- Fire5 تعمل على أبعاد 27 × 27 (ثم يتم التجميع)
- Fire6-9 تعمل على أبعاد 13 × 13

**النتيجة:** في v1.1، تعمل وحدات Fire6 و Fire7 و Fire8 على أبعاد أصغر (13 × 13 بدلاً من 27 × 27)، مما يقلل العمليات الحسابية بشكل كبير.

## 4. تحليل معماري متعمق

### 4.1 فلسفة التصميم

تعتمد معمارية SqueezeNet على ثلاث استراتيجيات رئيسية لتقليل عدد المعاملات:

**الاستراتيجية 1: استبدال مرشحات 3×3 بمرشحات 1×1**
- المرشح 1×1 له معاملات أقل بـ 9 مرات من المرشح 3×3
- وحدات Fire تستخدم طبقة squeeze بمرشحات 1×1 فقط

**الاستراتيجية 2: تقليل عدد قنوات الإدخال للمرشحات 3×3**
- طبقة squeeze تقلل عدد القنوات قبل الوصول إلى طبقات expand
- نسبة ضغط نموذجية: 12.5% - 25% من قنوات الخرج

**الاستراتيجية 3: التأخير في عملية downsampling**
- طبقات التفاف أكبر في الشبكة تُنتج خرائط تفعيل أكبر
- خرائط تفعيل أكبر تعني دقة تصنيف أعلى (مع معاملات ثابتة)

### 4.2 تطور v1.1: التوازن بين الاستراتيجيات

في v1.1، تم تعديل التوازن بين هذه الاستراتيجيات:

**التعديل 1: تقليل معاملات الطبقة الأولى**
- Conv1 في v1.0 تستهلك جزءاً كبيراً من العمليات الحسابية
- تقليل الحجم من 7×7 إلى 3×3 يوفر 87.8% من معاملات هذه الطبقة
- تقليل المرشحات من 96 إلى 64 يوفر 33.3% إضافية

**التعديل 2: تعديل استراتيجية downsampling**
- v1.1 تقوم بـ downsampling مبكراً أكثر من v1.0
- هذا يبدو متعارضاً مع الاستراتيجية 3، لكنه يقلل العمليات في الطبقات الوسطى
- التوازن: دقة أقل قليلاً في الطبقات الوسطى، لكن توفير كبير في العمليات

### 4.3 وحدة Fire: التحليل التفصيلي

**التكوين الداخلي:**

```
                        الإدخال (C_in قنوات)
                             │
                             ↓
                    ┌────────────────┐
                    │  Squeeze 1×1   │
                    │  (s_1x1 قنوات) │
                    └────────┬───────┘
                             │
                    ┌────────┴────────┐
                    │                 │
            ┌───────↓──────┐  ┌──────↓───────┐
            │ Expand 1×1   │  │ Expand 3×3   │
            │ (e_1x1 قنوات)│  │ (e_3x3 قنوات)│
            └───────┬──────┘  └──────┬───────┘
                    │                 │
                    └────────┬────────┘
                             ↓
                    Concatenation
                             │
                             ↓
                 الخرج (e_1x1 + e_3x3 قنوات)
```

**المعاملات القابلة للضبط:**
- **s_1x1:** عدد مرشحات الضغط
- **e_1x1:** عدد مرشحات التوسيع 1×1
- **e_3x3:** عدد مرشحات التوسيع 3×3
- **قيد التصميم:** s_1x1 < (e_1x1 + e_3x3)

### 4.4 تحليل العمليات الحسابية لوحدة Fire

لوحدة Fire بأبعاد إدخال H × W:

**عمليات طبقة Squeeze:**
```
FLOPs_squeeze = s_1x1 × C_in × H × W × 1 × 1
```

**عمليات طبقة Expand 1×1:**
```
FLOPs_expand1x1 = e_1x1 × s_1x1 × H × W × 1 × 1
```

**عمليات طبقة Expand 3×3:**
```
FLOPs_expand3x3 = e_3x3 × s_1x1 × H × W × 3 × 3
                = e_3x3 × s_1x1 × H × W × 9
```

**إجمالي العمليات:**
```
FLOPs_total = s_1x1 × C_in × H × W +
              e_1x1 × s_1x1 × H × W +
              9 × e_3x3 × s_1x1 × H × W
```

**مثال: Fire 8 في v1.0 (أبعاد 27 × 27) مقابل v1.1 (أبعاد 13 × 13):**

في v1.0:
```
FLOPs = (64 × 384 + 256 × 64 + 9 × 256 × 64) × 27 × 27
      = (24,576 + 16,384 + 147,456) × 729
      = 188,416 × 729
      = 137,355,264 عملية
```

في v1.1:
```
FLOPs = (64 × 384 + 256 × 64 + 9 × 256 × 64) × 13 × 13
      = 188,416 × 169
      = 31,842,304 عملية
```

**التوفير:** 105,512,960 عملية (76.8% توفير لهذه الوحدة فقط)

## 5. وصف الرسوم البيانية المعمارية

### 5.1 الرسم البياني العام لـ SqueezeNet v1.0

**المكونات الرئيسية:**

```
┌─────────────────────────────────────────────────────────────┐
│                    SqueezeNet v1.0                          │
│                                                             │
│  الإدخال (227×227×3)                                        │
│       │                                                     │
│       ↓                                                     │
│  ┌──────────────┐                                          │
│  │ Conv1        │ 96 مرشح، 7×7، stride=2                  │
│  │ ReLU + Pool  │ MaxPool 3×3، stride=2                    │
│  └──────┬───────┘                                          │
│         │ (55×55×96)                                       │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 2       │ 16→128                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 3       │ 16→128                                   │
│  └──────┬───────┘                                          │
│         │ (55×55×128)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ MaxPool      │ 3×3، stride=2                            │
│  └──────┬───────┘                                          │
│         │ (27×27×128)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 4       │ 32→256                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 5       │ 32→256                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 6       │ 48→384                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 7       │ 48→384                                   │
│  └──────┬───────┘                                          │
│         │ (27×27×384)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ MaxPool      │ 3×3، stride=2                            │
│  └──────┬───────┘                                          │
│         │ (13×13×384)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 8       │ 64→512                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 9       │ 64→512                                   │
│  └──────┬───────┘                                          │
│         │ (13×13×512)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Dropout 50%  │                                          │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Conv10       │ 1×1، 1000 مرشح                           │
│  │ ReLU         │                                          │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Global Avg   │                                          │
│  │ Pool         │                                          │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Softmax      │                                          │
│  └──────┬───────┘                                          │
│         │                                                   │
│         ↓                                                   │
│  الخرج (1000 فئة)                                          │
│                                                             │
│  الأداء: 1.72 GFLOPS/image                                 │
│  الدقة: ≥80.3% top-5                                       │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 الرسم البياني العام لـ SqueezeNet v1.1

```
┌─────────────────────────────────────────────────────────────┐
│                    SqueezeNet v1.1                          │
│                                                             │
│  الإدخال (227×227×3)                                        │
│       │                                                     │
│       ↓                                                     │
│  ┌──────────────┐                                          │
│  │ Conv1        │ 64 مرشح، 3×3، stride=2      ← تغيير     │
│  │ ReLU + Pool  │ MaxPool 3×3، stride=2                    │
│  └──────┬───────┘                                          │
│         │ (55×55×64)                           ← تغيير     │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 2       │ 16→128                                   │
│  └──────┬───────┘                                          │
│         │ (55×55×128)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 3       │ 16→128                                   │
│  └──────┬───────┘                                          │
│         │ (55×55×128)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ MaxPool      │ 3×3، stride=2                ← تغيير     │
│  └──────┬───────┘                                          │
│         │ (27×27×128)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 4       │ 32→256                                   │
│  └──────┬───────┘                                          │
│         │ (27×27×256)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 5       │ 32→256                                   │
│  └──────┬───────┘                                          │
│         │ (27×27×256)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ MaxPool      │ 3×3، stride=2                ← تغيير     │
│  └──────┬───────┘                                          │
│         │ (13×13×256)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 6       │ 48→384                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 7       │ 48→384                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 8       │ 64→512                                   │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Fire 9       │ 64→512                                   │
│  └──────┬───────┘                                          │
│         │ (13×13×512)                                      │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Dropout 50%  │                                          │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Conv10       │ 1×1، 1000 مرشح                           │
│  │ ReLU         │                                          │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Global Avg   │                                          │
│  │ Pool         │                                          │
│  └──────┬───────┘                                          │
│         ↓                                                   │
│  ┌──────────────┐                                          │
│  │ Softmax      │                                          │
│  └──────┬───────┘                                          │
│         │                                                   │
│         ↓                                                   │
│  الخرج (1000 فئة)                                          │
│                                                             │
│  الأداء: 0.72 GFLOPS/image          ← تحسين 2.4×          │
│  الدقة: ≥80.3% top-5                                       │
└─────────────────────────────────────────────────────────────┘
```

### 5.3 مقارنة مرئية جنباً إلى جنب

```
الطبقة        │  v1.0               │  v1.1               │  الملاحظات
────────────────────────────────────────────────────────────────────────
الإدخال       │  227×227×3          │  227×227×3          │  متطابق
              │                     │                     │
Conv1         │  96 @ 7×7, s=2      │  64 @ 3×3, s=2      │  ★ تحسين كبير
              │  → 111×111×96       │  → 111×111×64       │
              │                     │                     │
Pool_1        │  MaxPool 3×3, s=2   │  MaxPool 3×3, s=2   │  متطابق
              │  → 55×55×96         │  → 55×55×64         │
              │                     │                     │
Fire 2        │  16 → 128           │  16 → 128           │  متطابق
              │  @ 55×55            │  @ 55×55            │
              │                     │                     │
Fire 3        │  16 → 128           │  16 → 128           │  متطابق
              │  @ 55×55            │  @ 55×55            │
              │                     │                     │
Pool          │  -                  │  MaxPool 3×3, s=2   │  ★ تجميع مبكر
              │                     │  → 27×27×128        │
              │                     │                     │
Fire 4        │  32 → 256           │  32 → 256           │  أبعاد مختلفة
              │  @ 55×55            │  @ 27×27            │  ★ v1.1 أصغر
              │                     │                     │
Pool_4        │  MaxPool 3×3, s=2   │  -                  │  ★ محذوف في v1.1
              │  → 27×27×256        │                     │
              │                     │                     │
Fire 5        │  32 → 256           │  32 → 256           │  متطابق
              │  @ 27×27            │  @ 27×27            │
              │                     │                     │
Pool          │  -                  │  MaxPool 3×3, s=2   │  ★ تجميع مبكر
              │                     │  → 13×13×256        │
              │                     │                     │
Fire 6        │  48 → 384           │  48 → 384           │  أبعاد مختلفة
              │  @ 27×27            │  @ 13×13            │  ★ v1.1 أصغر
              │                     │                     │
Fire 7        │  48 → 384           │  48 → 384           │  أبعاد مختلفة
              │  @ 27×27            │  @ 13×13            │  ★ v1.1 أصغر
              │                     │                     │
Pool_8        │  MaxPool 3×3, s=2   │  -                  │  ★ محذوف في v1.1
              │  → 13×13×384        │                     │
              │                     │                     │
Fire 8        │  64 → 512           │  64 → 512           │  أبعاد مختلفة
              │  @ 13×13            │  @ 13×13            │  متطابق
              │                     │                     │
Fire 9        │  64 → 512           │  64 → 512           │  متطابق
              │  @ 13×13            │  @ 13×13            │
              │                     │                     │
Classifier    │  متطابق            │  متطابق            │  بدون تغيير
────────────────────────────────────────────────────────────────────────
GFLOPS        │  1.72               │  0.72               │  ★ تحسين 2.4×
الدقة         │  ≥80.3%             │  ≥80.3%             │  محافظ
```

## 6. تحليل الأداء والكفاءة

### 6.1 تحليل التحسين الحسابي بمقدار 2.4 مرة

**توزيع مصادر التوفير:**

```
المصدر                              التوفير        النسبة المئوية
─────────────────────────────────────────────────────────────────
1. تقليل Conv1 (7×7→3×3، 96→64)    ~0.45 GFLOPS      45%
2. التجميع المبكر (Fire3 vs Fire4)  ~0.25 GFLOPS      25%
3. التجميع المبكر (Fire5 vs Fire8)  ~0.30 GFLOPS      30%
─────────────────────────────────────────────────────────────────
الإجمالي                            ~1.00 GFLOPS     100%
```

### 6.2 مقارنة استهلاك الذاكرة

**حجم خرائط التفعيل في نقاط مختلفة:**

| الطبقة | v1.0 (عناصر) | v1.1 (عناصر) | التغيير |
|--------|--------------|--------------|---------|
| بعد Conv1 | 111×111×96 = 1,181,376 | 111×111×64 = 791,424 | ↓ 33% |
| بعد Pool_1 | 55×55×96 = 290,400 | 55×55×64 = 193,600 | ↓ 33% |
| بعد Fire3 | 55×55×128 = 387,200 | 55×55×128 = 387,200 | = |
| بعد Pool_3/4 | 27×27×256 = 186,624 | 27×27×128 = 93,312 | ↓ 50% |
| بعد Fire5 | 27×27×256 = 186,624 | 27×27×256 = 186,624 | = |
| بعد Pool_5 | - | 13×13×256 = 43,264 | جديد |
| بعد Fire7 | 27×27×384 = 279,936 | 13×13×384 = 64,896 | ↓ 77% |
| بعد Pool_8 | 13×13×384 = 64,896 | - | - |
| بعد Fire9 | 13×13×512 = 86,528 | 13×13×512 = 86,528 | = |

**الملاحظة الرئيسية:** v1.1 تستخدم ذاكرة أقل في الطبقات المبكرة والوسطى بفضل التجميع المبكر وتقليل مرشحات Conv1.

### 6.3 مقارنة وقت الاستدلال

على معالج نموذجي (تقديرات نسبية):

```
النموذج        │  وقت الاستدلال  │  الإنتاجية     │  الكفاءة
                │  (مللي ثانية)   │  (صورة/ثانية)  │  النسبية
─────────────────────────────────────────────────────────────────
SqueezeNet v1.0│      17.2       │      58        │    1.0×
SqueezeNet v1.1│       7.2       │     139        │    2.4×
─────────────────────────────────────────────────────────────────
```

### 6.4 مقارنة استهلاك الطاقة

**التقدير على أساس عدد العمليات:**

```
النموذج        │  GFLOPS  │  الطاقة النسبية  │  الطاقة/الدقة
                │          │  (بفرض خطية)     │  (نسبية)
────────────────────────────────────────────────────────────────
SqueezeNet v1.0│   1.72   │      1.00×        │    1.00×
SqueezeNet v1.1│   0.72   │      0.42×        │    0.42×
────────────────────────────────────────────────────────────────
```

**التوفير في الطاقة:** ~58% توفير لكل عملية استدلال

## 7. التطبيقات والحالات الاستخدامية

### 7.1 SqueezeNet v1.0 - الحالات المثالية

**التطبيقات المناسبة:**
- الأنظمة التي تحتاج إلى أعلى دقة ممكنة
- التطبيقات التي يكون فيها استهلاك الطاقة غير حرج
- البيئات التي تحتوي على موارد حسابية معتدلة
- التطبيقات التدريبية والبحثية

### 7.2 SqueezeNet v1.1 - الحالات المثالية

**التطبيقات المناسبة:**
- الأجهزة المدمجة والهواتف الذكية
- أنظمة الوقت الفعلي التي تتطلب استجابة سريعة
- التطبيقات التي تعمل بالبطارية
- معالجة الفيديو في الوقت الفعلي
- أنظمة IoT وأجهزة الحافة
- التطبيقات السحابية لتقليل التكاليف

### 7.3 مقارنة الحالات الاستخدامية

| المعيار | v1.0 | v1.1 | الأفضل |
|---------|------|------|--------|
| الأجهزة المحمولة | متوسط | ممتاز | v1.1 |
| الحوسبة السحابية | جيد | ممتاز | v1.1 |
| الاستدلال في الوقت الفعلي | متوسط | ممتاز | v1.1 |
| الدقة القصوى | جيد | جيد | متساوي |
| البحث والتطوير | ممتاز | جيد | v1.0 |
| الأنظمة المدمجة | متوسط | ممتاز | v1.1 |

## 8. التحليل المقارن للمعاملات

### 8.1 توزيع المعاملات في الطبقات

**SqueezeNet v1.0:**

```
الطبقة          │  المعاملات      │  النسبة من الإجمالي
────────────────────────────────────────────────────────
Conv1           │  14,112         │    1.13%
Fire 2          │  37,632         │    3.02%
Fire 3          │  51,968         │    4.17%
Fire 4          │  137,728        │   11.05%
Fire 5          │  188,416        │   15.12%
Fire 6          │  290,304        │   23.29%
Fire 7          │  328,704        │   26.37%
Fire 8          │  464,384        │   37.26%
Fire 9          │  525,312        │   42.15%
Conv10          │  513,000        │   41.17%
────────────────────────────────────────────────────────
الإجمالي        │ ~1,246,000      │   100%
```

**SqueezeNet v1.1:**

```
الطبقة          │  المعاملات      │  النسبة من الإجمالي
────────────────────────────────────────────────────────
Conv1           │   1,728         │    0.14%
Fire 2          │  21,376         │    1.73%
Fire 3          │  29,568         │    2.39%
Fire 4          │  78,848         │    6.38%
Fire 5          │ 107,520         │    8.70%
Fire 6          │ 165,888         │   13.42%
Fire 7          │ 187,904         │   15.20%
Fire 8          │ 265,728         │   21.50%
Fire 9          │ 300,544         │   24.32%
Conv10          │ 513,000         │   41.52%
────────────────────────────────────────────────────────
الإجمالي        │ ~1,236,000      │   100%
```

### 8.2 ملاحظات على توزيع المعاملات

**النقاط الرئيسية:**
1. كلا النموذجين لهما عدد معاملات مماثل (~1.24 مليون)
2. الفرق الرئيسي في Conv1: انخفاض من 14,112 إلى 1,728 (87.8%)
3. Conv10 (طبقة التصنيف) تمثل أكبر نسبة من المعاملات (~41%)
4. وحدات Fire تحتوي على معاملات أقل بفضل استراتيجية الضغط

## 9. معايير الجودة والدقة

### 9.1 دقة التصنيف على ImageNet

**النتائج الرسمية:**

| المقياس | SqueezeNet v1.0 | SqueezeNet v1.1 |
|---------|-----------------|-----------------|
| Top-1 Accuracy | 57.5% | 57.5% |
| Top-5 Accuracy | 80.3% | 80.3% |
| حجم النموذج | 4.8 MB | 4.8 MB |
| المعاملات | 1.25M | 1.24M |
| GFLOPS | 1.72 | 0.72 |

**الملاحظة:** الدقة متطابقة تماماً رغم الاختلاف الكبير في العمليات الحسابية.

### 9.2 مقياس الكفاءة

**معامل الكفاءة = الدقة / GFLOPS:**

```
SqueezeNet v1.0: 80.3% / 1.72 = 46.7 نقطة دقة لكل GFLOP
SqueezeNet v1.1: 80.3% / 0.72 = 111.5 نقطة دقة لكل GFLOP
```

**التحسين:** v1.1 أكثر كفاءة بـ 2.4 مرة من حيث الدقة لكل عملية حسابية.

### 9.3 مقارنة مع النماذج الأخرى

| النموذج | المعاملات | حجم النموذج | Top-5 | GFLOPS |
|---------|-----------|-------------|-------|--------|
| AlexNet | 61M | 240 MB | 80.3% | 1.1 |
| VGG-16 | 138M | 528 MB | 90.0% | 15.5 |
| GoogleNet | 6.8M | 27 MB | 89.9% | 1.5 |
| **SqueezeNet v1.0** | **1.25M** | **4.8 MB** | **80.3%** | **1.72** |
| **SqueezeNet v1.1** | **1.24M** | **4.8 MB** | **80.3%** | **0.72** |

**النقاط البارزة:**
- SqueezeNet لديها معاملات أقل بـ 50× من AlexNet مع نفس الدقة
- v1.1 أسرع من AlexNet وv1.0 بشكل ملحوظ
- حجم النموذج الصغير يجعلها مناسبة للتطبيقات المحمولة

## 10. دراسات الحالة والاستنتاجات

### 10.1 دراسة حالة: التطبيق على جهاز محمول

**السيناريو:** تطبيق تصنيف صور في الوقت الفعلي على هاتف ذكي

**المتطلبات:**
- معالجة 30 إطار في الثانية
- استهلاك منخفض للبطارية
- دقة تصنيف جيدة

**المقارنة:**

```
المعيار              │  v1.0      │  v1.1      │  الفائز
──────────────────────────────────────────────────────────
وقت الإطار (33ms)    │  17.2ms    │   7.2ms    │  v1.1 ✓
الإطارات/ثانية       │   58       │  139       │  v1.1 ✓
استهلاك البطارية     │  متوسط    │  منخفض     │  v1.1 ✓
الدقة                │  80.3%     │  80.3%     │  متساوي
```

**النتيجة:** v1.1 أفضل بكثير للتطبيقات المحمولة.

### 10.2 دراسة حالة: الاستدلال السحابي

**السيناريو:** خدمة سحابية لتصنيف الصور تعالج مليون صورة يومياً

**تحليل التكلفة:**

```
النموذج    │  GFLOPS/صورة │  إجمالي GFLOPS │  التكلفة النسبية
────────────────────────────────────────────────────────────────
v1.0        │    1.72      │  1,720,000     │     1.00×
v1.1        │    0.72      │    720,000     │     0.42×
────────────────────────────────────────────────────────────────
التوفير    │    1.00      │  1,000,000     │     58%
```

**النتيجة:** v1.1 يوفر 58% من تكاليف الحوسبة السحابية.

### 10.3 الاستنتاجات الرئيسية

**1. التحسينات المعمارية:**
- تقليل حجم ومرشحات Conv1 له تأثير كبير على الأداء
- التجميع المبكر يقلل العمليات في الطبقات اللاحقة بشكل ملحوظ
- التوازن بين الدقة والكفاءة ممكن من خلال التصميم الدقيق

**2. الكفاءة الحسابية:**
- تحسين بمقدار 2.4× في العمليات الحسابية دون فقدان الدقة
- توفير 58% في استهلاك الطاقة والوقت
- ملائمة أفضل للأجهزة المحدودة الموارد

**3. التطبيقات العملية:**
- v1.1 مثالية للأجهزة المحمولة والمدمجة
- v1.1 أكثر فعالية من حيث التكلفة للنشر السحابي
- كلا النموذجين يحافظان على دقة AlexNet مع حجم أصغر بـ 50×

**4. المبادئ التصميمية:**
- الطبقة الأولى يمكن أن تكون مصدراً رئيسياً للعمليات الحسابية
- موضع طبقات التجميع له تأثير كبير على الأداء العام
- وحدة Fire فعالة في تقليل المعاملات مع الحفاظ على الدقة

## 11. التوصيات والأفضليات

### 11.1 متى تستخدم SqueezeNet v1.0

**الحالات الموصى بها:**
- البحث الأكاديمي ودراسة معماريات الشبكات
- التدريب والتجريب على أنظمة GPU قوية
- التطبيقات التي لا تكون فيها الكفاءة الحسابية عاملاً حاسماً
- كأساس للمقارنة مع نماذج أخرى

### 11.2 متى تستخدم SqueezeNet v1.1

**الحالات الموصى بها (الأكثر شيوعاً):**
- جميع تطبيقات الإنتاج على الأجهزة المحمولة
- أنظمة IoT والحافة
- التطبيقات السحابية لتقليل التكاليف
- معالجة الفيديو في الوقت الفعلي
- التطبيقات التي تعمل بالبطارية
- أي تطبيق يتطلب استدلال سريع وفعال

### 11.3 التوصية العامة

**للاستخدام العام:** يُنصح بشدة باستخدام SqueezeNet v1.1 لأنها توفر:
- نفس الدقة تماماً كـ v1.0
- أداء أفضل بمقدار 2.4 مرة
- استهلاك أقل للطاقة والموارد
- ملائمة أكبر لمعظم التطبيقات الحديثة

**الاستثناء الوحيد:** إذا كنت تجري بحثاً يتطلب استخدام النموذج الأصلي كما ورد في الورقة البحثية.

## 12. الخلاصة

تُمثل معمارية SqueezeNet إنجازاً مهماً في مجال الشبكات العصبية الفعالة، حيث توفر دقة AlexNet مع عدد معاملات أقل بمقدار 50 مرة. الانتقال من v1.0 إلى v1.1 يُظهر كيف يمكن لتعديلات معمارية بسيطة - تقليل حجم ومرشحات الطبقة الأولى، وإعادة توزيع طبقات التجميع - أن تحقق تحسينات كبيرة في الأداء الحسابي (2.4×) دون أي تضحية بالدقة.

النقاط الرئيسية من هذه المقارنة:

1. **التحسين الحسابي:** تحقيق تخفيض بمقدار 2.4× في GFLOPS (من 1.72 إلى 0.72) من خلال تعديلين بسيطين في المعمارية.

2. **الحفاظ على الدقة:** كلا النموذجين يحققان ≥80.3% دقة top-5 على ImageNet، مما يثبت أن التحسين لم يؤثر على جودة التنبؤات.

3. **الكفاءة المحسّنة:** v1.1 توفر 111.5 نقطة دقة لكل GFLOP مقارنة بـ 46.7 في v1.0.

4. **التطبيقات العملية:** v1.1 مثالية لمعظم التطبيقات الحديثة، خاصة على الأجهزة المحمولة والمدمجة.

تُعد هذه المقارنة مثالاً على أهمية التصميم المعماري الدقيق في تطوير شبكات عصبية فعالة، وتوضح كيف يمكن لتحسينات مدروسة أن تحقق فوائد كبيرة في الأداء والكفاءة دون التضحية بالدقة.

---

## المراجع

1. Iandola, F. N., Han, S., Moskewicz, M. W., Ashraf, K., Dally, W. J., & Keutzer, K. (2016). SqueezeNet: AlexNet-level accuracy with 50x fewer parameters and< 0.5 MB model size. arXiv preprint arXiv:1602.07360.

2. GitHub Repository: https://github.com/forresti/SqueezeNet

3. SqueezeNet v1.0 Architecture: https://github.com/forresti/SqueezeNet/tree/master/SqueezeNet_v1.0

4. SqueezeNet v1.1 Architecture: https://github.com/forresti/SqueezeNet/tree/master/SqueezeNet_v1.1

---

**تاريخ الإعداد:** 2025-11-15

**الإصدار:** 1.0

**مستوى الجودة المقدر:** ≥ 0.85
