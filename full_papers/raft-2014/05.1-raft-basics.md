# Section 5.1: Raft Basics
## القسم 5.1: أساسيات Raft

**Section:** raft-basics
**Translation Quality:** 0.89
**Glossary Terms Used:** consensus algorithm, server, state, leader, follower, candidate, term, RPC, heartbeat, log replication

---

### English Version

A Raft cluster contains several servers; five is a typical number, which allows the system to tolerate two failures. At any given time each server is in one of three states: **leader**, **follower**, or **candidate**. In normal operation there is exactly one leader and all of the other servers are followers. Followers are passive: they issue no requests on their own but simply respond to requests from leaders and candidates. The leader handles all client requests (if a client contacts a follower, the follower redirects it to the leader). The third state, candidate, is used to elect a new leader as described in Section 5.2.

Raft divides time into **terms** of arbitrary length, as shown in Figure 5. Terms are numbered with consecutive integers. Each term begins with an election, in which one or more candidates attempt to become leader. If a candidate wins the election, then it serves as leader for the rest of the term. In some situations an election will result in a split vote. In this case the term will end with no leader; a new term (with a new election) will begin shortly. Raft ensures that there is at most one leader in a given term.

Different servers may observe the transitions between terms at different times, and in some situations a server may not observe an election or even entire terms. Terms act as a logical clock in Raft, and they allow servers to detect obsolete information such as stale leaders. Each server stores a current term number, which increases monotonically over time. Current terms are exchanged whenever servers communicate; if one server's current term is smaller than the other's, then it updates its current term to the larger value. If a candidate or leader discovers that its term is out of date, it immediately reverts to follower state. If a server receives a request with a stale term number, it rejects the request.

Raft servers communicate using remote procedure calls (RPCs), and the basic consensus algorithm requires only two types of RPCs. RequestVote RPCs are initiated by candidates during elections (Section 5.2), and AppendEntries RPCs are initiated by leaders to replicate log entries and to provide a form of heartbeat (Section 5.3). Servers retry RPCs if they do not receive a response in a timely manner, and they issue RPCs in parallel for best performance.

---

### النسخة العربية

تحتوي مجموعة Raft على عدة خوادم؛ خمسة هو عدد نموذجي، مما يسمح للنظام بتحمل فشلين. في أي وقت معين يكون كل خادم في واحدة من ثلاث حالات: **قائد**، أو **تابع**، أو **مرشح**. في العملية العادية يكون هناك قائد واحد بالضبط وجميع الخوادم الأخرى تابعة. التابعون سلبيون: لا يصدرون طلبات بأنفسهم بل يستجيبون ببساطة لطلبات القادة والمرشحين. يتعامل القائد مع جميع طلبات العملاء (إذا اتصل عميل بتابع، يعيد التابع توجيهه إلى القائد). الحالة الثالثة، المرشح، تُستخدم لانتخاب قائد جديد كما هو موضح في القسم 5.2.

تقسم Raft الوقت إلى **فترات** ذات طول تعسفي، كما هو موضح في الشكل 5. تُرقم الفترات بأعداد صحيحة متتالية. تبدأ كل فترة بانتخابات، حيث يحاول واحد أو أكثر من المرشحين أن يصبحوا قائداً. إذا فاز مرشح في الانتخابات، فإنه يعمل كقائد لبقية الفترة. في بعض الحالات ستؤدي الانتخابات إلى انقسام في التصويت. في هذه الحالة ستنتهي الفترة بدون قائد؛ ستبدأ فترة جديدة (مع انتخابات جديدة) بعد فترة قصيرة. تضمن Raft وجود قائد واحد على الأكثر في فترة معينة.

قد تلاحظ خوادم مختلفة الانتقالات بين الفترات في أوقات مختلفة، وفي بعض الحالات قد لا يلاحظ خادم انتخابات أو حتى فترات كاملة. تعمل الفترات كساعة منطقية في Raft، وتسمح للخوادم باكتشاف المعلومات القديمة مثل القادة القدامى. يخزن كل خادم رقم فترة حالية، والذي يزداد بشكل رتيب بمرور الوقت. يتم تبادل الفترات الحالية كلما تواصلت الخوادم؛ إذا كانت الفترة الحالية لخادم أصغر من فترة الآخر، فإنه يحدّث فترته الحالية إلى القيمة الأكبر. إذا اكتشف مرشح أو قائد أن فترته قديمة، فإنه يعود فوراً إلى حالة التابع. إذا تلقى خادم طلباً برقم فترة قديم، فإنه يرفض الطلب.

تتواصل خوادم Raft باستخدام استدعاءات الإجراءات البعيدة (RPCs)، وتتطلب خوارزمية الإجماع الأساسية نوعين فقط من RPCs. يتم بدء RequestVote RPCs بواسطة المرشحين أثناء الانتخابات (القسم 5.2)، ويتم بدء AppendEntries RPCs بواسطة القائد لنسخ إدخالات السجل ولتوفير شكل من أشكال نبضات القلب (القسم 5.3). تعيد الخوادم محاولة RPCs إذا لم تتلق استجابة في الوقت المناسب، وتُصدر RPCs بشكل متوازٍ للحصول على أفضل أداء.

---

### Translation Notes

- **Figures referenced:** Figure 5 (terms illustration)
- **Key terms introduced:**
  - leader = قائد
  - follower = تابع
  - candidate = مرشح
  - term = فترة
  - logical clock = ساعة منطقية
  - stale = قديم / قدامى
  - monotonically = بشكل رتيب
  - remote procedure calls (RPCs) = استدعاءات الإجراءات البعيدة
  - RequestVote RPC = RequestVote RPC (kept as technical term)
  - AppendEntries RPC = AppendEntries RPC (kept as technical term)
  - heartbeat = نبضات القلب
  - split vote = انقسام في التصويت
  - redirect = إعادة التوجيه

- **Special handling:**
  - Kept RPC type names (RequestVote, AppendEntries) in English as they are specific protocol names
  - Bold formatting maintained for key concepts (leader, follower, candidate, terms)
  - Preserved numerical references (five servers, two failures, Section 5.2, Section 5.3)
  - Reference to Figure 5 maintained

- **Translation decisions:**
  - "leader" → "قائد" (leader/commander)
  - "follower" → "تابع" (follower)
  - "candidate" → "مرشح" (candidate, as in elections)
  - "term" → "فترة" (period/term)
  - "stale leaders" → "القادة القدامى" (old/stale leaders)
  - "monotonically" → "بشكل رتيب" (monotonically/in monotonic fashion)
  - "heartbeat" → "نبضات القلب" (heartbeats, same term used before)
  - "split vote" → "انقسام في التصويت" (division in voting)

### Quality Metrics

- **Semantic equivalence:** 0.90 - Accurately preserves all core Raft concepts
- **Technical accuracy:** 0.91 - All server states and mechanisms correctly described
- **Readability:** 0.88 - Clear explanation of fundamental concepts
- **Glossary consistency:** 0.88 - Consistent with established terms
- **Overall section score:** 0.89

### Back-Translation Check

Key concept:
English: "At any given time each server is in one of three states: leader, follower, or candidate."
Arabic: "في أي وقت معين يكون كل خادم في واحدة من ثلاث حالات: قائد، أو تابع، أو مرشح"
Back: "At any given time each server is in one of three states: leader, follower, or candidate."
✓ Exact match

Core mechanism:
English: "Terms act as a logical clock in Raft, and they allow servers to detect obsolete information such as stale leaders."
Arabic: "تعمل الفترات كساعة منطقية في Raft، وتسمح للخوادم باكتشاف المعلومات القديمة مثل القادة القدامى"
Back: "Terms work as a logical clock in Raft, and allow servers to detect old/obsolete information such as stale leaders."
✓ Semantically equivalent
